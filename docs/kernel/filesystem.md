# File System

本项目将文件系统分为两个部分：文件系统抽象曾和文件系统（实现）。

文件系统是一个抽象的概念，它定义了文件和目录的组织方式，以及如何访问它们。文件系统驱动是一个具体的实现，它负责将文件系统的抽象概念映射到具体的存储设备上。

## 文件系统抽象层

文件系统抽象层类似于 Linux 的 VFS（Virtual File System），它定义了文件系统的抽象概念，包括文件、目录、文件系统、文件系统驱动等。文件系统抽象层的主要目的是为了屏蔽不同文件系统的差异，使得应用程序可以统一地访问不同的文件系统。

同时，其他模块在引用代码时，不应该直接引用文件系统驱动，而应该通过文件系统抽象层来访问文件系统。这样可以使得文件系统驱动可以被替换，而不影响其他模块的代码。

文件系统抽象层的代码位于 `crates/filesystem-abstractions` 目录下。

包含了 `IIonde` 接口及相关数据结构，挂载表，缓存机制（内核级 Inode table 和 File table），`IFile` 接口以及`Pipe` 管道，`Teletypewriter`，以及`FileDescriptor` 等。

## 文件系统驱动

文件系统驱动是文件系统的具体实现，它负责将文件系统的抽象概念映射到具体的存储设备上。文件系统驱动的主要目的是为了提供文件系统的具体实现，使得应用程序可以通过文件系统抽象层来访问文件系统。

文件系统驱动的代码位于 `crates/filesystems` 目录下。

这些驱动直接利用来自 `crates/drivers` 的 `IDiskDevice` 接口来访问硬盘。借用该接口，我们可以在此基础上实现不同的文件系统驱动，如 FAT32、EXT4 等。
